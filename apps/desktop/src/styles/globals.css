@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* =================================
       TYPOGRAPHY SCALE (1.25 ratio)
       ================================= */
    --text-xs: 0.75rem;
    /* 12px - Captions, timestamps */
    --text-sm: 0.875rem;
    /* 14px - Body small, labels */
    --text-base: 1rem;
    /* 16px - Body text */
    --text-lg: 1.125rem;
    /* 18px - Lead text */
    --text-xl: 1.25rem;
    /* 20px - Section headings */
    --text-2xl: 1.5rem;
    /* 24px - Page titles */
    --text-3xl: 1.875rem;
    /* 30px - Hero text */
    --text-4xl: 2.25rem;
    /* 36px - Display */
    --text-5xl: 3rem;
    /* 48px - Large display */

    /* Letter Spacing */
    --tracking-tight: -0.025em;
    --tracking-normal: 0;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;
    --tracking-widest: 0.1em;

    /* Line Heights */
    --leading-none: 1;
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    --leading-loose: 1.75;

    /* =================================
       SPACING SCALE (8px base)
       ================================= */
    --space-0: 0;
    --space-px: 1px;
    --space-0-5: 0.125rem;
    /* 2px */
    --space-1: 0.25rem;
    /* 4px */
    --space-1-5: 0.375rem;
    /* 6px */
    --space-2: 0.5rem;
    /* 8px */
    --space-2-5: 0.625rem;
    /* 10px */
    --space-3: 0.75rem;
    /* 12px */
    --space-3-5: 0.875rem;
    /* 14px */
    --space-4: 1rem;
    /* 16px */
    --space-5: 1.25rem;
    /* 20px */
    --space-6: 1.5rem;
    /* 24px */
    --space-7: 1.75rem;
    /* 28px */
    --space-8: 2rem;
    /* 32px */
    --space-9: 2.25rem;
    /* 36px */
    --space-10: 2.5rem;
    /* 40px */
    --space-11: 2.75rem;
    /* 44px */
    --space-12: 3rem;
    /* 48px */
    --space-14: 3.5rem;
    /* 56px */
    --space-16: 4rem;
    /* 64px */

    /* =================================
       COLOR SYSTEM - Purple Neon Cyberpunk
       ================================= */

    /* Main Background: Deep purple-blue gradient base */
    --color-background: #0f0f2d;
    --color-background-muted: #1a1a4e;

    /* Surface Colors: For dark theme panels and cards */
    --color-surface-50: #1e2d5a;
    --color-surface-100: #253366;
    --color-surface-200: #2d3d75;
    --color-surface-300: #3a4a85;
    --color-surface-400: #4a5a95;
    --color-surface-500: #64748b;
    --color-surface-600: #94a3b8;
    --color-surface-700: #cbd5e1;
    --color-surface-750: #e2e8f0;
    --color-surface-800: #f1f5f9;
    --color-surface-900: #f8fafc;
    --color-surface-950: #ffffff;

    /* Primary Palette: Purple-Violet (Refined) */
    --color-primary-50: #faf5ff;
    --color-primary-100: #f3e8ff;
    --color-primary-200: #e9d5ff;
    --color-primary-300: #d8b4fe;
    --color-primary-400: #c084fc;
    --color-primary-500: #a855f7;
    --color-primary-600: #9333ea;
    --color-primary-700: #7e22ce;
    --color-primary-800: #6b21a8;
    --color-primary-900: #581c87;
    --color-primary-950: #3b0764;

    /* Secondary: Cyan/Teal for AI responses */
    --color-secondary-400: #22d3ee;
    --color-secondary-500: #06b6d4;
    --color-secondary-600: #0891b2;

    /* Panel Background: Translucent/glass effect */
    --color-panel: rgba(30, 41, 59, 0.6);
    --color-panel-light: rgba(51, 65, 85, 0.5);
    --color-panel-dark: rgba(15, 23, 42, 0.7);
    --color-panel-solid: #1e293b;

    /* Semantic Colors */
    --color-success: #10b981;
    --color-success-light: #34d399;
    --color-warning: #f59e0b;
    --color-warning-light: #fbbf24;
    --color-danger: #ef4444;
    --color-danger-light: #f87171;
    --color-info: #3b82f6;
    --color-info-light: #60a5fa;

    /* Accent colors */
    --color-accent-coral: #f472b6;
    --color-accent-green: #34d399;
    --color-accent-blue: rgba(99, 180, 237, 0.25);
    --color-accent-cyan: #22d3ee;

    /* =================================
       AVATAR COLOR PALETTE (Harmonious)
       ================================= */
    --avatar-purple: #a855f7;
    --avatar-violet: #8b5cf6;
    --avatar-indigo: #6366f1;
    --avatar-cyan: #06b6d4;
    --avatar-teal: #14b8a6;
    --avatar-emerald: #10b981;
    --avatar-amber: #f59e0b;
    --avatar-rose: #f43f5e;
    --avatar-pink: #ec4899;
    --avatar-blue: #3b82f6;

    /* =================================
       BORDER RADIUS
       ================================= */
    --radius-sm: 0.375rem;
    /* 6px */
    --radius-md: 0.5rem;
    /* 8px */
    --radius-lg: 0.75rem;
    /* 12px */
    --radius-xl: 1rem;
    /* 16px */
    --radius-2xl: 1.25rem;
    /* 20px */
    --radius-3xl: 1.5rem;
    /* 24px */
    --radius-full: 9999px;

    /* =================================
       SHADOWS
       ================================= */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);

    /* Glow Shadows */
    --shadow-glow-primary: 0 0 20px rgba(168, 85, 247, 0.35);
    --shadow-glow-primary-sm: 0 0 10px rgba(168, 85, 247, 0.25);
    --shadow-glow-cyan: 0 0 20px rgba(6, 182, 212, 0.35);
    --shadow-glow-cyan-sm: 0 0 10px rgba(6, 182, 212, 0.25);

    /* Panel Shadows */
    --shadow-panel: 0 8px 32px 0 rgba(0, 0, 0, 0.2), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-card-hover: 0 8px 24px rgba(0, 0, 0, 0.2), 0 4px 8px rgba(0, 0, 0, 0.1);

    /* =================================
       TRANSITIONS
       ================================= */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slower: 500ms cubic-bezier(0.4, 0, 0.2, 1);

    /* Easing Functions */
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  /* =================================
     BODY & BASE STYLES
     ================================= */
  body {
    @apply antialiased;
    background: radial-gradient(ellipse at 0% 0%, #581c87 0%, #3b0764 20%, #1e1b4b 50%, #0f172a 100%);
    background-attachment: fixed;
    min-height: 100vh;
    color: #f8fafc;
    overflow: hidden;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Display Font for Headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .font-display {
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
    font-weight: 600;
    letter-spacing: var(--tracking-tight);
  }

  h1 {
    font-size: var(--text-2xl);
    line-height: var(--leading-tight);
  }

  h2 {
    font-size: var(--text-xl);
    line-height: var(--leading-tight);
  }

  h3 {
    font-size: var(--text-lg);
    line-height: var(--leading-snug);
  }

  h4 {
    font-size: var(--text-base);
    line-height: var(--leading-snug);
  }

  /* =================================
     SCROLLBAR STYLING
     ================================= */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.3);
    border-radius: var(--radius-full);
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.5);
    background-clip: padding-box;
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(148, 163, 184, 0.3) transparent;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* =================================
     FOCUS STYLES
     ================================= */
  :focus-visible {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }

  /* Selection */
  ::selection {
    background: rgba(168, 85, 247, 0.3);
    color: white;
  }
}

@layer components {

  /* =================================
     BUTTON BASE STYLES
     ================================= */
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-medium transition-all duration-150;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500/50 focus-visible:ring-offset-2;
    border-radius: var(--radius-lg);
    --tw-ring-offset-color: var(--color-surface-50);
  }

  .btn:active:not(:disabled) {
    transform: scale(0.98);
  }

  /* =================================
     PANEL STYLES - Premium Glass Effect
     ================================= */
  .panel {
    @apply backdrop-blur-xl;
    background: linear-gradient(135deg,
        rgba(30, 41, 59, 0.7) 0%,
        rgba(30, 41, 59, 0.5) 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-top-color: rgba(255, 255, 255, 0.12);
    border-left-color: rgba(255, 255, 255, 0.1);
    box-shadow:
      var(--shadow-panel),
      0 0 40px rgba(0, 0, 0, 0.1);
  }

  .panel-solid {
    background: var(--color-panel-solid);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: var(--shadow-panel);
  }

  .panel-header {
    @apply px-5 py-4 font-semibold text-white;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    font-family: 'Space Grotesk', sans-serif;
    font-size: var(--text-lg);
    letter-spacing: var(--tracking-tight);
  }

  /* =================================
     CARD STYLES
     ================================= */
  .card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-card);
    transition: all var(--transition-base);
  }

  .card-hoverable:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.12);
    box-shadow: var(--shadow-card-hover);
    transform: translateY(-2px);
  }

  /* =================================
     INPUT STYLES
     ================================= */
  .input-base {
    @apply w-full bg-surface-50/10 border border-white/10 rounded-lg;
    @apply text-white placeholder-white/40;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/40 focus:border-primary-500/60;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    padding: var(--space-2-5) var(--space-3);
    font-size: var(--text-sm);
    transition: all var(--transition-fast);
  }

  .input-base:hover:not(:focus):not(:disabled) {
    border-color: rgba(255, 255, 255, 0.15);
  }

  /* Light theme inputs (for solid backgrounds) */
  .input-light {
    @apply w-full bg-surface-100 border border-surface-200 rounded-lg;
    @apply text-surface-800 placeholder-surface-400;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/30 focus:border-primary-500;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    padding: var(--space-2-5) var(--space-3);
    font-size: var(--text-sm);
    transition: all var(--transition-fast);
  }

  /* =================================
     CHAT BUBBLE STYLES
     ================================= */
  .bubble-user {
    background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);
    color: white;
    border-radius: var(--radius-2xl);
    border-bottom-right-radius: var(--radius-md);
    padding: var(--space-4) var(--space-5);
    box-shadow:
      0 4px 20px rgba(147, 51, 234, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
  }

  .bubble-ai {
    background: linear-gradient(135deg,
        rgba(6, 182, 212, 0.12) 0%,
        rgba(6, 182, 212, 0.06) 100%);
    color: var(--color-surface-900);
    border-radius: var(--radius-2xl);
    border-bottom-left-radius: var(--radius-md);
    padding: var(--space-4) var(--space-5);
    border: 1px solid rgba(6, 182, 212, 0.25);
    box-shadow:
      0 4px 20px rgba(6, 182, 212, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
  }

  /* =================================
     CONTACT/CHARACTER ITEM STYLES
     ================================= */
  .contact-item {
    @apply flex items-center gap-3 px-3 py-3 rounded-xl cursor-pointer;
    transition: all var(--transition-fast);
    border: 1px solid transparent;
  }

  .contact-item:hover {
    background: rgba(168, 85, 247, 0.12);
    border-color: rgba(168, 85, 247, 0.15);
  }

  .contact-item.active {
    background: rgba(168, 85, 247, 0.2);
    border-color: rgba(168, 85, 247, 0.3);
    box-shadow:
      inset 0 0 0 1px rgba(168, 85, 247, 0.2),
      var(--shadow-glow-primary-sm);
  }

  /* =================================
     BADGE STYLES
     ================================= */
  .badge {
    @apply inline-flex items-center font-medium;
    padding: var(--space-0-5) var(--space-2);
    font-size: var(--text-xs);
    border-radius: var(--radius-full);
    letter-spacing: var(--tracking-wide);
  }

  .badge-default {
    background: rgba(148, 163, 184, 0.15);
    color: var(--color-surface-700);
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  .badge-primary {
    background: rgba(168, 85, 247, 0.15);
    color: var(--color-primary-300);
    border: 1px solid rgba(168, 85, 247, 0.25);
  }

  .badge-success {
    background: rgba(16, 185, 129, 0.15);
    color: var(--color-success-light);
    border: 1px solid rgba(16, 185, 129, 0.25);
  }

  .badge-warning {
    background: rgba(245, 158, 11, 0.15);
    color: var(--color-warning-light);
    border: 1px solid rgba(245, 158, 11, 0.25);
  }

  .badge-danger {
    background: rgba(239, 68, 68, 0.15);
    color: var(--color-danger-light);
    border: 1px solid rgba(239, 68, 68, 0.25);
  }

  /* =================================
     TAB STYLES
     ================================= */
  .tab-item {
    @apply relative px-4 py-3 font-medium transition-all duration-200;
    font-size: var(--text-sm);
    color: var(--color-surface-500);
  }

  .tab-item:hover:not(.tab-active) {
    color: var(--color-surface-700);
  }

  .tab-item.tab-active {
    color: var(--color-primary-500);
  }

  .tab-item.tab-active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--color-primary-500), var(--color-primary-400));
    border-radius: var(--radius-full);
  }

  /* =================================
     AVATAR STYLES
     ================================= */
  .avatar {
    @apply relative flex items-center justify-center font-semibold;
    border-radius: var(--radius-full);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    border: 2px solid rgba(255, 255, 255, 0.1);
  }

  .avatar-sm {
    width: 32px;
    height: 32px;
    font-size: var(--text-xs);
  }

  .avatar-md {
    width: 40px;
    height: 40px;
    font-size: var(--text-sm);
  }

  .avatar-lg {
    width: 48px;
    height: 48px;
    font-size: var(--text-base);
  }

  .avatar-xl {
    width: 56px;
    height: 56px;
    font-size: var(--text-lg);
  }

  .avatar-2xl {
    width: 80px;
    height: 80px;
    font-size: var(--text-2xl);
  }

  /* =================================
     DIVIDER
     ================================= */
  .divider {
    height: 1px;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.1) 20%,
        rgba(255, 255, 255, 0.1) 80%,
        transparent 100%);
  }
}

@layer utilities {

  /* =================================
     TEXT UTILITIES
     ================================= */
  .text-balance {
    text-wrap: balance;
  }

  .text-gradient {
    background: linear-gradient(135deg, var(--color-primary-400), var(--color-primary-600));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-cyan {
    background: linear-gradient(135deg, var(--color-secondary-400), var(--color-secondary-600));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* =================================
     ANIMATION UTILITIES
     ================================= */
  @keyframes blink {

    0%,
    50% {
      opacity: 1;
    }

    51%,
    100% {
      opacity: 0;
    }
  }

  .animate-blink {
    animation: blink 1s step-end infinite;
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }

    100% {
      transform: translateX(400%);
    }
  }

  .animate-shimmer {
    animation: shimmer 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {

    0%,
    100% {
      box-shadow: var(--shadow-glow-primary-sm);
    }

    50% {
      box-shadow: var(--shadow-glow-primary);
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(4px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.2s ease-out;
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-scale-in {
    animation: scale-in 0.15s ease-out;
  }

  /* =================================
     GLOW UTILITIES
     ================================= */
  .glow-primary {
    box-shadow: var(--shadow-glow-primary);
  }

  .glow-primary-sm {
    box-shadow: var(--shadow-glow-primary-sm);
  }

  .glow-cyan {
    box-shadow: var(--shadow-glow-cyan);
  }

  .glow-cyan-sm {
    box-shadow: var(--shadow-glow-cyan-sm);
  }

  /* =================================
     BACKGROUND UTILITIES
     ================================= */
  .bg-app {
    background-color: var(--color-background);
  }

  .bg-app-muted {
    background-color: var(--color-background-muted);
  }

  .bg-panel {
    background-color: var(--color-panel);
  }

  .bg-panel-light {
    background-color: var(--color-panel-light);
  }

  .bg-panel-dark {
    background-color: var(--color-panel-dark);
  }

  .bg-panel-solid {
    background-color: var(--color-panel-solid);
  }

  /* Subtle overlay for depth */
  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  }

  /* =================================
     SHADOW UTILITIES
     ================================= */
  .shadow-soft {
    box-shadow: var(--shadow-md);
  }

  .shadow-card {
    box-shadow: var(--shadow-card);
  }

  .shadow-card-hover {
    box-shadow: var(--shadow-card-hover);
  }

  .shadow-panel {
    box-shadow: var(--shadow-panel);
  }

  /* =================================
     SCROLLBAR UTILITIES
     ================================= */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* =================================
     INTERACTION UTILITIES
     ================================= */
  .interactive {
    transition: all var(--transition-fast);
  }

  .interactive:hover {
    transform: translateY(-1px);
  }

  .interactive:active {
    transform: translateY(0);
  }

  .pressable:active:not(:disabled) {
    transform: scale(0.98);
  }
}